/*
* This file was generated by the Gradle 'init' task.
*/

plugins {
	id 'java'
	id 'com.diffplug.spotless' version '6.1.0'
	id 'maven-publish'
}

repositories {
	mavenCentral()
}

compileJava {
	sourceCompatibility = 1.8
	targetCompatibility = 1.8
}

dependencies {
	implementation 'com.jayway.jsonpath:json-path:2.6.0'
	implementation 'com.squareup.okhttp3:okhttp:3.14.9'
	implementation 'org.springframework.boot:spring-boot-starter:2.5.5'
	implementation 'com.google.code.gson:gson:2.8.5'
	implementation 'org.apache.commons:commons-collections4:4.4'
	implementation 'org.apache.commons:commons-lang3:3.12.0'

	testImplementation 'org.springframework.boot:spring-boot-starter-test:2.5.5'
	testImplementation 'junit:junit:4.13.2'
}

group = 'com.arctix.utilities'
version = '0.1'
description = 'rules-engine'

tasks.withType(JavaCompile) {
	options.encoding = 'UTF-8'
}

spotless {
	encoding 'UTF-8'
	format 'misc', {
		// define the files to apply `misc` to
		target '*.gradle', '*.md', '.gitignore'

		// define the steps to apply to those files
		trimTrailingWhitespace()
		indentWithTabs() // or spaces. Takes an integer argument if you don't like 4
		endWithNewline()
	}
	java {
		googleJavaFormat()
		licenseHeader '/* Use of this source code is subject to terms of MIT license.\n @author: Arjun Prasad\n @license: MIT\n @year: $YEAR */'
	}

	json {
		target 'src/**/*.json'
		simple()
	}
}
publishing {
	repositories {
		maven {
			name = "JavaRulesEngine"
			url = "https://maven.pkg.github.com/arjunpsd/rules-engine"
			credentials {
				username = System.getenv("GITHUB_ACTOR")
				password = System.getenv("GITHUB_TOKEN")
			}
		}
	}
}
