{
  "description": "test cases related to rules for evaluating notifications",
  "features": [
    {
      "name": "tc01_sms_enrollment_notification_enabled",
      "description": "sms enrollment notification should appear when phone number is not enrolled for text messaging",
      "testData": [
        {
          "key": "notification-evaluation:sms-enrollment-notification.status",
          "dataValue": null,
          "dataId": null
        },
        {
          "key": "notification-evaluation:sms-enrollment-notification.last-execution",
          "dataValue": "2021-01-31",
          "dataId": null
        },
        {
          "key": "registration:enrollment.SCS_SITE.action-date",
          "dataValue": "2021-01-31",
          "dataId": null
        },
        {
          "key": "client-telephones:sms-enrollment-status",
          "dataValue": null,
          "dataId": null
        }
      ],
      "requirements": {
        "conditions": [
          {
            "type": "test",
            "key": "rules-validator:rule-execution-result.returnValue",
            "equals": "Y"
          },
          {
            "type": "test",
            "key": "rules-validator:rule-execution-result.feature-name",
            "equals": "sms_enrollment_notification"
          }
        ]
      }
    },
    {
      "name": "tc02_sms_enrollment_notification_disabled",
      "description": "sms enrollment notification should not appear when phone number is enrolled for text messaging",
      "testData": [
        {
          "key": "notification-evaluation:sms-enrollment-notification.status",
          "dataValue": null,
          "dataId": null
        },
        {
          "key": "notification-evaluation:sms-enrollment-notification.last-execution",
          "dataValue": "2021-01-31",
          "dataId": null
        },
        {
          "key": "client-telephones:sms-enrollment-status",
          "dataValue": "ENROLLED",
          "dataId": "612-123-1234"
        },
        {
          "key": "registration:enrollment.SCS_SITE.action-date",
          "dataValue": "2021-01-31",
          "dataId": null
        }
      ],
      "requirements": {
        "conditions": [
          {
            "type": "test",
            "key": "rules-validator:rule-execution-result.returnValue",
            "equals": "null"
          },
          {
            "type": "test",
            "key": "rules-validator:rule-execution-result.feature-name",
            "notEquals": "sms_enrollment_notification"
          }
        ]
      }
    },
    {
      "name": "tc03_anniversary_notification_enabled",
      "description": "should show 15 year anniversary notification",
      "testData": [
        {
          "key": "advice-insights:anniversary-milestone-number",
          "dataValue": "10",
          "dataId": null
        },
        {
          "key": "registration:enrollment.SCS_SITE.action-date",
          "dataValue": "2021-01-31",
          "dataId": null
        }
      ],
      "requirements": {
        "conditions": [
          {
            "type": "test",
            "key": "rules-validator:rule-execution-result.returnValue",
            "equals": "true"
          },
          {
            "type": "test",
            "key": "rules-validator:rule-execution-result.feature-name",
            "equals": "anniversary_notification"
          }
        ]
      }
    },
    {
      "name": "tc04_anniversary_notification_disabled",
      "description": "should not show 15 year anniversary notification",
      "testData": [
        {
          "key": "advice-insights:anniversary-milestone-number",
          "dataValue": "1",
          "dataId": null
        },
        {
          "key": "registration:enrollment.SCS_SITE.action-date",
          "dataValue": "2021-01-31",
          "dataId": null
        }
      ],
      "requirements": {
        "conditions": [
          {
            "type": "test",
            "key": "rules-validator:rule-execution-result.returnValue",
            "equals": "null"
          },
          {
            "type": "test",
            "key": "rules-validator:rule-execution-result.feature-name",
            "notEquals": "anniversary_notification"
          }
        ]
      }
    },
    {
      "name": "tc05_credit_card_offer_enabled",
      "description": "should show credit card promotion",
      "testData": [
        {
          "key": "advice-insights:credit-card-promotion",
          "dataValue": "Y",
          "dataId": null
        }
      ],
      "requirements": {
        "conditions": [
          {
            "type": "test",
            "key": "rules-validator:rule-execution-result.returnValue",
            "equals": "true"
          },
          {
            "type": "test",
            "key": "rules-validator:rule-execution-result.feature-name",
            "equals": "credit_card_offer"
          }
        ]
      }
    },
    {
      "name": "tc06_credit_card_offer_disabled",
      "description": "should show credit card promotion",
      "testData": [
        {
          "key": "advice-insights:credit-card-promotion",
          "dataValue": null,
          "dataId": null
        }
      ],
      "requirements": {
        "conditions": [
          {
            "type": "test",
            "key": "rules-validator:rule-execution-result.returnValue",
            "equals": "null"
          },
          {
            "type": "test",
            "key": "rules-validator:rule-execution-result.feature-name",
            "notEquals": "credit_card_offer"
          }
        ]
      }
    }
  ]
}